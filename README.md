# üöÄ Social Media Manager Pro - Sistema H√≠brido Completo

Sistema **REVOLUCION√ÅRIO** de gerenciamento de redes sociais com **publica√ß√£o h√≠brida inteligente** para **TODAS as plataformas**, **analytics em tempo real** e **agendamento autom√°tico**.

## ‚ú® Sistema H√≠brido Inteligente

### Cria um servidor de link para o localhost:3001
	cloudflared tunnel --url http://localhost:3001

### üéØ Como Funciona
Para **CADA plataforma**, voc√™ pode escolher:
- **üì° Via Ayrshare** (Simples - uma API para todas)
- **üîó Via API Pr√≥pria** (Avan√ßado - controle total)
- **üõ°Ô∏è Redund√¢ncia Autom√°tica** - Se uma API falha, usa a outra

### üì± Plataformas Suportadas
| Plataforma | Ayrshare | API Pr√≥pria | Recursos Extras |
|------------|----------|-------------|----------------|
| **Instagram** | ‚úÖ | ‚úÖ Meta Graph API | Stories, Reels |
| **Facebook** | ‚úÖ | ‚úÖ Graph API | Pages, Groups |
| **Twitter** | ‚úÖ | ‚úÖ API v2 | Threads, Spaces |
| **YouTube** | ‚úÖ | ‚úÖ Data API v3 | V√≠deos, Community |
| **LinkedIn** | ‚úÖ | ‚úÖ API v2 | Company Pages |
| **TikTok** | ‚úÖ | ‚úÖ Business API | V√≠deos nativos |
| **Snapchat** | ‚úÖ | ‚úÖ Kit API | Stories, Ads |
| **Pinterest** | ‚úÖ | ‚úÖ API v5 | Pins, Boards |

## üîß Configura√ß√£o H√≠brida

### 1. Configura√ß√£o B√°sica (Ayrshare)
```env
# Funciona para TODAS as plataformas
AYRSHARE_API_KEY=sua_api_key_do_ayrshare
```

### 2. Configura√ß√£o Avan√ßada (APIs Individuais)
```env
# Instagram
INSTAGRAM_ACCESS_TOKEN=EAAJ...
INSTAGRAM_USER_ID=123456789

# Facebook  
FACEBOOK_ACCESS_TOKEN=EAAPGto...
FACEBOOK_PAGE_ID=987654321

# Twitter
TWITTER_API_KEY=sua_api_key
TWITTER_API_SECRET=seu_api_secret
TWITTER_ACCESS_TOKEN=seu_access_token
TWITTER_ACCESS_SECRET=seu_access_secret

# YouTube
YOUTUBE_CLIENT_ID=689417920589-xxx.apps.googleusercontent.com
YOUTUBE_CLIENT_SECRET=GOCSPX-xxx

# LinkedIn
LINKEDIN_ACCESS_TOKEN=seu_linkedin_token

# TikTok
TIKTOK_ACCESS_TOKEN=seu_tiktok_token

# Snapchat
SNAPCHAT_ACCESS_TOKEN=seu_snapchat_token

# Pinterest
PINTEREST_ACCESS_TOKEN=seu_pinterest_token
```

## üéõÔ∏è Interface de Controle

### Via Interface Web
1. Acesse `http://localhost:3001/config.html`
2. Para cada plataforma, escolha:
   - **Toggle OFF** = Via Ayrshare (padr√£o)
   - **Toggle ON** = Via API pr√≥pria
3. Configure credenciais espec√≠ficas
4. Teste cada API individualmente

### Via C√≥digo
```javascript
// Testar estrat√©gia h√≠brida
testHybridStrategy()

// Ver prefer√™ncias atuais
collectUserPreferences()

// Simular publica√ß√£o
simulateHybridPublishing()
```

## üöÄ Estrat√©gias de Publica√ß√£o

### üéØ Estrat√©gia 1: "Ayrshare First"
```
Instagram: Ayrshare ‚Üí Individual (fallback)
Facebook: Ayrshare ‚Üí Individual (fallback)
Twitter: Ayrshare ‚Üí Individual (fallback)
```
**Vantagem**: Simplicidade m√°xima

### ‚ö° Estrat√©gia 2: "Individual First"  
```
Instagram: Individual ‚Üí Ayrshare (fallback)
Facebook: Individual ‚Üí Ayrshare (fallback)
YouTube: Individual ‚Üí Ayrshare (fallback)
```
**Vantagem**: Controle e recursos avan√ßados

### üõ°Ô∏è Estrat√©gia 3: "H√≠brida Inteligente"
```
Instagram: Individual (configurado) ‚Üí Ayrshare
Facebook: Ayrshare ‚Üí Individual
YouTube: Individual ‚Üí Ayrshare
TikTok: Ayrshare (√∫nica op√ß√£o)
```
**Vantagem**: Melhor dos dois mundos

## üìä Analytics em Tempo Real

### Dados Reais Integrados
- **Ayrshare Analytics** - Quando configurado
- **APIs Individuais** - M√©tricas nativas
- **Combina√ß√£o Inteligente** - Melhor vis√£o geral

### Filtros Avan√ßados
```javascript
GET /api/analytics?timeRange=30&platform=instagram&metricType=engagement

// Retorna dados filtrados espec√≠ficos da plataforma
```

## üîÑ Fluxo de Publica√ß√£o

```mermaid
graph TD
    A[Usu√°rio publica] --> B[Sistema determina estrat√©gia]
    B --> C{Plataforma configurada?}
    C -->|Individual ON| D[Tenta API pr√≥pria]
    C -->|Individual OFF| E[Tenta Ayrshare]
    D -->|Sucesso| F[‚úÖ Publicado via Individual]
    D -->|Falha| G[üîÑ Fallback Ayrshare]
    E -->|Sucesso| H[‚úÖ Publicado via Ayrshare]
    E -->|Falha| I[üîÑ Fallback Individual]
    G --> J[‚úÖ Publicado com fallback]
    I --> J
```

## üß™ Testes e Valida√ß√£o

### Testar Estrat√©gia Completa
```bash
# No console do navegador
testHybridStrategy()

# Resultado exemplo:
üéØ Estrat√©gia: 3 via Ayrshare, 2 via APIs individuais
‚ö†Ô∏è 1 plataforma n√£o configurada
```

### Testar APIs Individuais
```bash
# Para cada plataforma
testPlatformAPI('instagram')
testPlatformAPI('youtube')
testPlatformAPI('twitter')
```

### Simular Publica√ß√£o
```bash
simulateHybridPublishing()

# Mostra exatamente como cada plataforma seria publicada
```

## üéõÔ∏è Vantagens do Sistema H√≠brido

### ‚úÖ **Redund√¢ncia Total**
- Se Ayrshare cai, APIs individuais continuam
- Se uma API individual falha, Ayrshare assume
- **Zero downtime** de publica√ß√£o

### ‚ö° **Performance Otimizada**
- APIs diretas podem ser mais r√°pidas
- Menos intermedi√°rios = menos lat√™ncia
- Upload direto de m√≠dia

### üéØ **Recursos Avan√ßados**
- **YouTube**: Upload de v√≠deos nativos
- **Instagram**: Stories e Reels
- **Twitter**: Threads e polls
- **LinkedIn**: Posts em company pages

### üìä **Analytics Detalhados**
- M√©tricas nativas de cada plataforma
- Dados mais precisos e em tempo real
- Combina√ß√£o inteligente de fontes

## üîß Configura√ß√£o em Produ√ß√£o

### Docker Compose
```yaml
version: '3.8'
services:
  social-media-manager:
    build: .
    ports:
      - "3001:3001"
    environment:
      - NODE_ENV=production
      - AYRSHARE_API_KEY=${AYRSHARE_API_KEY}
      - INSTAGRAM_ACCESS_TOKEN=${INSTAGRAM_ACCESS_TOKEN}
      # ... outras vari√°veis
    volumes:
      - uploads:/app/uploads
    restart: always
```

### PM2 Ecosystem
```javascript
module.exports = {
  apps: [{
    name: 'social-media-manager-hybrid',
    script: 'server.js',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'development'
    },
    env_production: {
      NODE_ENV: 'production',
      PORT: 3001
    }
  }]
}
```

## üìà Monitoramento

### Logs Estruturados
```bash
# Ver estrat√©gias em tempo real
pm2 logs --lines 100 | grep "üéØ Estrat√©gia"

# Ver fallbacks ativados  
pm2 logs --lines 100 | grep "üîÑ Fallback"

# Ver sucessos por m√©todo
pm2 logs --lines 100 | grep "‚úÖ"
```

### M√©tricas do Sistema
```javascript
GET /api/status

{
  "hybridSystem": {
    "enabled": true,
    "ayrshare": true,
    "individualAPIs": {
      "instagram": true,
      "youtube": true,
      "twitter": false
    }
  }
}
```

## üöÄ Implanta√ß√£o

### Desenvolvimento
```bash
git clone <repo>
cd social-media-manager-pro
npm install
cp .env.example .env
# Configure suas APIs
npm run dev
```

### Produ√ß√£o
```bash
npm run build
pm2 start ecosystem.config.js --env production
pm2 save
pm2 startup
```

## üéâ Resultado Final

**Sistema H√çBRIDO INTELIGENTE** que:
- ‚úÖ **Funciona com qualquer combina√ß√£o** de APIs
- ‚úÖ **Nunca falha completamente** (redund√¢ncia)
- ‚úÖ **Otimiza automaticamente** a estrat√©gia
- ‚úÖ **Scales para qualquer volume** de publica√ß√£o
- ‚úÖ **Analytics unificados** de m√∫ltiplas fontes
- ‚úÖ **Interface √∫nica** para todas as redes

**üéØ O futuro do gerenciamento de redes sociais est√° aqui!**

## üîß Instala√ß√£o e Configura√ß√£o

### 1. Pr√©-requisitos
```bash
# Node.js 16+ e npm
node --version
npm --version
```

### 2. Clone e Instala√ß√£o
```bash
git clone <repository-url>
cd social-media-manager-pro
npm install
```

### 3. Configura√ß√£o do .env
Copie o arquivo `.env` inclu√≠do e configure suas credenciais:

```env
# =================================
# AYRSHARE API (PRINCIPAL - OBRIGAT√ìRIO)
# =================================
AYRSHARE_API_KEY=sua_api_key_aqui

# =================================
# CLOUDINARY (UPLOAD DE M√çDIA - OBRIGAT√ìRIO)
# =================================
CLOUDINARY_CLOUD_NAME=seu_cloud_name
CLOUDINARY_API_KEY=sua_api_key
CLOUDINARY_API_SECRET=seu_api_secret

# =================================
# YOUTUBE API (Opcional - para API pr√≥pria)
# =================================
YOUTUBE_CLIENT_ID=seu_client_id.apps.googleusercontent.com
YOUTUBE_CLIENT_SECRET=GOCSPX-seu_client_secret
```

### 4. Iniciar o Servidor
```bash
# Desenvolvimento
npm run dev

# Produ√ß√£o
npm start
```

## üîë Obtendo as Credenciais

### Ayrshare (Obrigat√≥rio)
1. Acesse [ayrshare.com](https://www.ayrshare.com/)
2. Crie uma conta
3. V√° em **Dashboard ‚Üí API Key**
4. Copie sua API Key
5. Conecte suas redes sociais no painel do Ayrshare

### Cloudinary (Obrigat√≥rio para m√≠dia)
1. Acesse [cloudinary.com](https://cloudinary.com/)
2. Crie uma conta gratuita
3. V√° em **Dashboard**
4. Copie: Cloud Name, API Key, API Secret

### YouTube (Opcional - para API pr√≥pria)
1. Acesse [Google Cloud Console](https://console.developers.google.com/)
2. Crie um novo projeto
3. Ative a **YouTube Data API v3**
4. Crie credenciais **OAuth 2.0**
5. Configure redirect URIs para seu dom√≠nio

### Instagram/Facebook (Opcional)
1. Acesse [Facebook Developers](https://developers.facebook.com/)
2. Crie um app
3. Configure Instagram Basic Display API
4. Gere tokens de acesso

## üöÄ Como Usar

### 1. Configura√ß√£o Inicial
1. Acesse `http://localhost:3001/config.html`
2. Configure sua **API Key do Ayrshare**
3. Configure **Cloudinary** para upload de m√≠dia
4. Teste as conex√µes com os bot√µes de teste
5. Configure APIs individuais se desejar (YouTube, etc.)

### 2. Publica√ß√£o
1. Acesse `http://localhost:3001`
2. Digite seu conte√∫do
3. Adicione hashtags
4. Selecione plataformas
5. Fa√ßa upload de m√≠dia (opcional)
6. Clique em **Publicar Agora**

### 3. Agendamento
1. Acesse `http://localhost:3001/calendar.html`
2. Clique em **Agendar Post** ou em uma data
3. Preencha os dados
4. Defina data/hora
5. O sistema publicar√° automaticamente

### 4. Analytics
1. Acesse `http://localhost:3001/analytics.html`
2. Use os filtros para personalizar visualiza√ß√£o
3. Acompanhe m√©tricas em tempo real
4. Visualize posts recentes e performance

## üéØ Sistema H√≠brido Explicado

### Como Funciona
O sistema usa uma **estrat√©gia inteligente** para publica√ß√£o:

1. **Ayrshare Primeiro** - Tenta publicar via Ayrshare
2. **Fallback Individual** - Se falhar, usa APIs individuais
3. **YouTube Especial** - Duas op√ß√µes:
   - Via Ayrshare (padr√£o)
   - Via API pr√≥pria do Google (para recursos avan√ßados)

### Vantagens
- ‚úÖ **Redund√¢ncia** - Se uma API falha, usa outra
- ‚úÖ **Flexibilidade** - Diferentes estrat√©gias por plataforma
- ‚úÖ **Simplicidade** - Interface √∫nica para todas as redes
- ‚úÖ **Escalabilidade** - F√°cil adicionar novas plataformas

## üìä Analytics Detalhados

### Fontes de Dados
1. **Ayrshare** - Dados reais quando configurado
2. **Posts Locais** - Combinado com simula√ß√£o inteligente
3. **Cache Inteligente** - 5 minutos para performance

### Filtros Dispon√≠veis
- **Per√≠odo**: 7, 30, 90 dias ou 1 ano
- **Plataforma**: Todas ou espec√≠fica
- **M√©trica**: Engajamento, Alcance, Impress√µes, Cliques

### M√©tricas Inclu√≠das
- üìà **Alcance Total**
- ‚ù§Ô∏è **Engajamento**
- üîÑ **Compartilhamentos**
- üëÜ **Cliques**
- üì± **Por Plataforma**
- üìÖ **Timeline**

## üîí Seguran√ßa e Produ√ß√£o

### Vari√°veis de Ambiente
```env
NODE_ENV=production
PORT=3001

# Configura√ß√µes de seguran√ßa
CORS_ORIGIN=https://seudominio.com
JWT_SECRET=seu_jwt_secret_aqui
```

### Deploy
```bash
# Build para produ√ß√£o
npm run build

# Iniciar com PM2 (recomendado)
npm install -g pm2
pm2 start server.js --name "social-media-manager"
pm2 startup
pm2 save
```

### Nginx (Proxy Reverso)
```nginx
server {
    listen 80;
    server_name seudominio.com;
    
    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## üõ†Ô∏è API Endpoints

### Publica√ß√£o
```javascript
POST /api/publish
Content-Type: multipart/form-data

{
    "content": "Texto do post",
    "hashtags": "#marketing #social",
    "platforms": ["instagram", "facebook"],
    "files": [arquivo1, arquivo2]
}
```

### Analytics
```javascript
GET /api/analytics?timeRange=30&platform=all&metricType=engagement

Response:
{
    "success": true,
    "data": {
        "metrics": {...},
        "timeline": [...],
        "platforms": {...},
        "recentPosts": [...]
    }
}
```

### Agendamento
```javascript
POST /api/schedule
{
    "content": "Post agendado",
    "scheduledDate": "2025-06-20",
    "scheduledTime": "14:30",
    "platforms": ["instagram"]
}
```

### Status
```javascript
GET /api/status
GET /health
```

## üß™ Testes e Debug

### Comandos de Teste
No console do navegador (F12):

```javascript
// Testar Ayrshare
testAyrshareConnection()

// Testar YouTube
testYouTubeOnly()

// Ver status
showConfigStatus()

// Debug analytics
debugAnalytics()

// Testar filtros
testFilters()
```

### Logs do Servidor
```bash
# Ver logs em tempo real
pm2 logs social-media-manager

# Monitorar status
pm2 status
```

## üêõ Solu√ß√£o de Problemas

### Erro: "Ayrshare API Key inv√°lida"
1. Verifique se a API Key est√° correta no `.env`
2. Teste a conex√£o em Configura√ß√µes
3. Verifique se a conta Ayrshare est√° ativa

### Erro: "Cloudinary upload failed"
1. Verifique credenciais no `.env`
2. Teste upload em Configura√ß√µes
3. Verifique limites da conta Cloudinary

### Erro: "Platform not configured"
1. V√° em Configura√ß√µes
2. Configure a plataforma espec√≠fica
3. Teste a API individual

### Posts n√£o aparecem no Analytics
1. Aguarde at√© 5 minutos (cache)
2. Force atualiza√ß√£o clicando "Atualizar"
3. Verifique se Ayrshare est√° retornando dados

## üîÑ Atualiza√ß√µes e Manuten√ß√£o

### Backup Regular
```bash
# Exportar configura√ß√µes (no navegador)
exportConfig()

# Backup do servidor
tar -czf backup-$(date +%Y%m%d).tar.gz .env uploads/ node_modules/
```

### Monitoramento
```bash
# Status do sistema
curl http://localhost:3001/health

# Logs de erro
grep ERROR logs/app.log

# Uso de recursos
pm2 monit
```

### Limpeza
```bash
# Limpar uploads antigos (autom√°tico √†s 2h)
# Limpar cache de analytics (autom√°tico a cada hora)

# Manual
rm -rf uploads/*
```

## üìà Melhorias Futuras

### Roadmap
- [ ] **Dashboard Avan√ßado** - Mais gr√°ficos e insights
- [ ] **Automa√ß√£o IA** - Sugest√µes de conte√∫do
- [ ] **Multi-usu√°rios** - Sistema de equipes
- [ ] **Webhook** - Integra√ß√£o com outros sistemas
- [ ] **Mobile App** - Aplicativo nativo
- [ ] **Stories** - Suporte para Instagram/Facebook Stories

### Contribui√ß√£o
1. Fork o projeto
2. Crie uma branch (`git checkout -b feature/nova-funcionalidade`)
3. Commit suas mudan√ßas (`git commit -am 'Adiciona nova funcionalidade'`)
4. Push para a branch (`git push origin feature/nova-funcionalidade`)
5. Crie um Pull Request

## üìû Suporte

### Documenta√ß√£o Adicional
- [Ayrshare API Docs](https://docs.ayrshare.com/)
- [Cloudinary Docs](https://cloudinary.com/documentation)
- [YouTube API Docs](https://developers.google.com/youtube/v3)

### Contato
- **Issues**: Use o GitHub Issues
- **Discuss√µes**: GitHub Discussions
- **Email**: suporte@seudominio.com

## üìú Licen√ßa

MIT License - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üéâ Agradecimentos

- **Ayrshare** - Pela excelente API de redes sociais
- **Cloudinary** - Pelo servi√ßo de upload de m√≠dia
- **Chart.js** - Pelos gr√°ficos interativos
- **Font Awesome** - Pelos √≠cones

---

## üìã Checklist de Produ√ß√£o

### ‚úÖ Antes do Deploy
- [ ] Configurar todas as vari√°veis de ambiente
- [ ] Testar todas as APIs
- [ ] Configurar Nginx/Apache
- [ ] Configurar SSL/HTTPS
- [ ] Testar backup/restore
- [ ] Configurar monitoramento

### ‚úÖ P√≥s Deploy
- [ ] Verificar logs de erro
- [ ] Testar publica√ß√£o em produ√ß√£o
- [ ] Verificar analytics
- [ ] Testar agendamento
- [ ] Configurar alertas
- [ ] Documentar URLs de produ√ß√£o

### ‚úÖ Manuten√ß√£o Semanal
- [ ] Verificar logs de erro
- [ ] Limpar arquivos tempor√°rios
- [ ] Verificar uso de recursos
- [ ] Testar backup
- [ ] Atualizar depend√™ncias (se necess√°rio)

---

**üöÄ Sistema pronto para produ√ß√£o!**

Configure suas credenciais, teste todas as funcionalidades e comece a gerenciar suas redes sociais de forma profissional!